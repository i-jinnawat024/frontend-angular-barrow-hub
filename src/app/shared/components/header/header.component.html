<header id="app-header" class="sticky top-0 z-40 border-b border-subtle bg-surface transition-all duration-300"
  [style.margin-left]="getHeaderMarginLeft()">
  <div class="flex max-w-screen flex-wrap items-center  gap-3 px-4 py-3 md:flex-nowrap md:px-6" id="header-container">
    <div class="flex flex-1 items-center gap-3">
      <button type="button" id="btn-toggle-sidebar"
        class="inline-flex h-10 w-10 items-center justify-center rounded-md border border-subtle bg-surface text-muted shadow-sm transition hover:bg-surface-hover hover:text-[var(--color-text-primary)] focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-[var(--color-info)] cursor-pointer"
        (click)="onToggleSidebar()" aria-controls="app-sidebar" [attr.aria-expanded]="sidebarOpen()"
        [attr.aria-label]="toggleLabel()">
        @switch (toggleIcon()) {
        @case('expand'){
        <mat-icon class="material-symbols-outlined">right_panel_close</mat-icon>
        }
        @case ('collapse') {
        <mat-icon class="material-symbols-outlined">left_panel_close</mat-icon>
        }
        @case ('close') {
        <mat-icon class="material-symbols-outlined">close</mat-icon>
        }
        @case ('menu') {
        <mat-icon class="material-symbols-outlined">right_panel_close</mat-icon>
        }
        }
      </button>

      <a href="/" class="flex items-center gap-3 text-primary">
       <img
  src="https://image2url.com/images/1763220306904-de55e46c-7a8c-4ef4-bc92-7f8ab352756a.png"
  class="h-10 w-10 rounded-md object-cover"
/>


        <div class="flex flex-col">
          <span class="text-base font-semibold leading-tight md:text-lg">BarrowHub</span>
          <span class="text-xs text-muted md:text-sm">ระบบยืม-คืนเอกสาร</span>
        </div>
      </a>
    </div>

    <div class="flex items-center gap-2" id="header-actions">
      <div class="flex items-center gap-3 rounded-full border border-subtle bg-surface px-3 py-2 shadow-sm">
        <div class="relative h-11 w-11 overflow-hidden rounded-full bg-[var(--color-primary-container)] text-primary">
          <span class="flex h-full w-full items-center justify-center text-sm font-semibold uppercase">
            {{ getUserInitials(currentUser()) }}
          </span>
        </div>
        <div class="hidden text-right sm:block">
          <p class="text-sm font-semibold text-primary">
            {{ currentUser()?.name ?? 'Barrow Hub ผู้ใช้' }}
          </p>
          <p class="text-xs text-muted">
            {{ currentUser()?.role ?? 'ผู้ใช้งาน' }}
          </p>
        </div>
        <button type="button" class="btn-secondary gap-1 whitespace-nowrap px-3 py-2 text-xs font-medium"
          (click)="logout()" aria-label="ออกจากระบบ">
          <mat-icon class="material-symbols-outlined text-base">logout</mat-icon>
          <span class="hidden md:inline">ออกจากระบบ</span>
        </button>
      </div>
    </div>
  </div>
</header>